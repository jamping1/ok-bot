# ok-bot
ok-bot -–ë–æ—Ç –¥–ª—è —Å–∞–π—Ç–∞ –û–¥–Ω–æ–∫–ª–∞—Å—Å–Ω–∏–∫–∏ 2025
![ok](./ok.webp)

# ¬´–í—Å—Ç–∞–Ω—å—Ç–µ, –¥–µ—Ç–∏, –≤—Å—Ç–∞–Ω—å—Ç–µ –≤ –∫—Ä—É–≥, –≤—Å—Ç–∞–Ω—å—Ç–µ –≤ –∫—Ä—É–≥, –≤—Å—Ç–∞–Ω—å—Ç–µ –≤ –∫—Ä—É–≥! –ñ–∏–ª –Ω–∞ —Å–≤–µ—Ç–µ –¥–æ–±—Ä—ã–π –∂—É–∫, —Å—Ç–∞—Ä—ã–π –¥–æ–±—Ä—ã–π –∂—É–∫.¬ª

# –û–¥–Ω–æ–∫–ª–∞—Å—Å–Ω–∏–∫–∏¬†Bot

Node.js‚Äë–±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ **–û–¥–Ω–æ–∫–ª–∞—Å—Å–Ω–∏–∫–∏**: –ø–æ–∏—Å–∫ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª—é–¥–µ–π, –æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ ChatGPT, —Ä–µ–ø–æ—Å—Ç—ã –≤ –≥—Ä—É–ø–ø—ã, –ª–∞–π–∫–∏, –º–∞—Å—Å–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∏–∞–ª–æ–≥–æ–≤‚ÄØ–∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ. –ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –≤–æ–∫—Ä—É–≥ **Puppeteer¬†Real¬†Browser**, –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–¥–∞–Ω–∏—è –∏–∑ MySQL‚Äë–æ—á–µ—Ä–µ–¥–µ–π, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É ¬´–ª–µ–π–≤–µ–ª–æ–≤¬ª –¥–ª—è¬†–Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ –¥–µ–π—Å—Ç–≤–∏–π –∏ –≤–∫–ª—é—á–∞–µ—Ç –±–µ–∫‚Äë–æ—Ñ–∏—Å –Ω–∞¬†PHP –¥–ª—è¬†—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–∞–º–∏ –∏¬†–¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏–∏ –∑–∞–¥–∞–Ω–∏–π. –í–Ω–∏–º–∞–Ω–∏–µ, –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å npm-–ø–∞–∫–µ—Ç—ã, –∞ —Ç–∞–∫–∂–µ –∫–æ–¥ –ø–ª–∞–≥–∏–Ω–∞ 2captcha-solver! 

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

| –§—É–Ω–∫—Ü–∏—è               | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                              |
| --------------------- | ----------------------------------------------------------------------------------------------------- |
| –†–µ–ø–æ—Å—Ç—ã               | –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –ø–æ—Å—Ç–æ–º –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–π –≥—Ä—É–ø–ø—ã –≤¬†–ø—Ä–æ—Ñ–∏–ª–µ –±–æ—Ç–∞.                                                 |
| –î–∏–∞–ª–æ–≥–∏               | –ê–≤—Ç–æ‚Äë–æ—Ç–≤–µ—Ç—ã, –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—Ç–∫—Ä—ã—Ç–∫–∏, —Å—Ç–∏–∫–µ—Ä—ã, –≤–∏–¥–µ–æ, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ª—é–±—ã—Ö —Ç–µ–º —Å –ø–æ–º–æ—â—å—é ChatGPT.          |
| –ü–æ–∏—Å–∫ –ª—é–¥–µ–π           | –ü–æ–∏—Å–∫ —Ü–µ–ª–µ–≤–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –∏ –∑–∞–ø—É—Å–∫ —Å—Ü–µ–Ω–∞—Ä–∏—è –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞.                                                 |
| –ú–µ–Ω–µ–¥–∂–µ—Ä –æ—á–µ—Ä–µ–¥–µ–π     | Actions¬†Queue / Pre‚ÄëQueue / History c¬†–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ –∏¬†–ø–æ–≤—Ç–æ—Ä–∞–º–∏.                                       |
| –ë—Ä–∞—É–∑–µ—Ä —Å¬†–∞–Ω—Ç–∏‚Äë–¥–µ—Ç–µ–∫—Ç | **puppeteer‚Äëreal‚Äëbrowser** + –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏–∫–∏ –∏¬†–≥–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–∫—Å–∏.                |
| –†–µ—à–µ–Ω–∏–µ –∫–∞–ø—á–∏         | –ü–∞–ø–∫–∞ \`\`¬†‚Äî —Å—Ç–æ—Ä–æ–Ω–Ω–∏–π –ø–ª–∞–≥–∏–Ω, –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ reCaptcha/HCaptcha/Turnstile.     |
| –ë–µ–∫‚Äë–æ—Ñ–∏—Å              | PHP‚Äë—Å–∫—Ä–∏–ø—Ç—ã: –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –ø—Ä–æ–∫—Å–∏, –º–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç –∞–∫–∫–∞—É–Ω—Ç–æ–≤, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏¬†—Ä–µ–º–æ–Ω—Ç –æ—á–µ—Ä–µ–¥–µ–π, cron‚Äë—Ç–∞—Å–∫–∏. |
| –°–∫–≤–æ–∑–Ω–∞—è –ª–æ–≥–∏–∫–∞       | –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ —É—Ä–æ–≤–Ω–∏ (Levels) + Chain¬†of¬†Middlewares –¥–ª—è¬†–Ω–∞–¥—ë–∂–Ω—ã—Ö –ø–æ–≤—Ç–æ—Ä–æ–≤ –∏¬†–æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π.   |

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
üìÇ ok-bot/
‚îú‚îÄ 2captcha-solver/           # –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ Chrome –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∫–∞–ø—á
‚îú‚îÄ classes/                   # Router, BotVars, ChainOfMiddlewares, LevelsFactory, ...
‚îú‚îÄ controllers/               # Page‚Äë–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã (MessagesPageController, SearchPageController, ...)
‚îú‚îÄ helpers/                   # sleepProm, globalLevelsExecute, formatErrorMessage, ...
‚îú‚îÄ levels/                    # –ì—Ä—É–ø–ø—ã —É—Ä–æ–≤–Ω–µ–π (messages/, search/, profile/, ...)
‚îú‚îÄ php-backoffice/            # PHP‚Äë—Å–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (functions.php, proxy‚Äërebalance.php, ...)
‚îú‚îÄ sql/                       # –ù–∞—á–∞–ª—å–Ω—ã–π –¥–∞–º–ø –ë–î
‚îú‚îÄ .env.example               # –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îî‚îÄ index.js                   # –ì–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª –±–æ—Ç–∞
```

### 1. MySQL¬†—Å—Ö–µ–º–∞

| –¢–∞–±–ª–∏—Ü–∞                                   | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                   |
| ----------------------------------------- | ------------------------------------------------------------ |
| **bots\_data**                            | –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç–æ–≤, –ø—Ä–æ–∫—Å–∏, cookies, —Ñ–ª–∞–≥–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏. |
| **actions\_queue / pre\_queue / history** | –û—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞–Ω–∏–π –∏¬†–∏—Ö¬†–∂—É—Ä–Ω–∞–ª.                                 |
| **dialogs**                               | –ö–æ–Ω—Ç–µ–∫—Å—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–µ—Ä–µ–ø–∏—Å–æ–∫, —Ç–∞–π–º–∏–Ω–≥–∏, —Å—á—ë—Ç—á–∏–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π.   |
| **people\_pre\_send / worked**            | –§–∏–ª—å—Ç—Ä—ã, —á—Ç–æ–±—ã –Ω–µ¬†—Å–ø–∞–º–∏—Ç—å –æ–¥–Ω–∏–º –ª—é–¥—è–º –¥–≤–∞–∂–¥—ã.                |
| **stickers\_sended / video\_sended**      | –ê–Ω—Ç–∏‚Äë–¥—É–ø–ª–∏–∫–∞—Ç—ã –≤–ª–æ–∂–µ–Ω–∏–π.                                     |
| **global\_vars / youtube\_data**          | –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—á—ë—Ç—á–∏–∫–∏, –ø—É–ª –≤–∏–¥–µ–æ –Ω–∞¬†—Ä–∞—Å—Å—ã–ª–∫—É.                  |

–ü–æ–ª–Ω—ã–π DDL –ª–µ–∂–∏—Ç –≤¬†`sql/ok_bot_schema.sql`.

### 2. Node.js‚Äë—Å–ª–æ–π

* **index.js**¬†‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª: –±–µ—Ä—ë—Ç –ø–∞—á–∫—É –¥–µ–π—Å—Ç–≤–∏–π `TimerController`, –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç/–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±—Ä–∞—É–∑–µ—Ä –∏¬†–¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ –≤ **Router**.
* **Router** –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –º–∞–ø–∏—Ç –ø—É—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `messages/sendVideo`) –Ω–∞¬†—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏¬†–º–µ—Ç–æ–¥ `*Action`.
* **BrowserController** ‚Äî –æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ puppeteer‚Äëreal‚Äëbrowser: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∫—Å–∏, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤, –ø–ª–∞–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ cookies –≤ –ë–î, helper‚Äë–º–µ—Ç–æ–¥—ã (`type`, `click`, `hover`,¬†‚Ä¶). –ü—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∞–π–ª Chromium:

  ```js
  const { connect } = require('puppeteer-real-browser');
  const browser = await connect({
    customConfig: { userDataDir: '/path/to/profiles/bot_{{id}}' },
    ...
  });
  ```

### 3. Levels¬†+¬†ChainOfMiddlewares

–ö–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ **—É—Ä–æ–≤–Ω–µ–π**. –ö–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å:

1. –ù–∞—Å–ª–µ–¥—É–µ—Ç Parent‚Äë–∫–ª–∞—Å—Å (–º–æ–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å –æ–±—â–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏: –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã).
2. –†–µ–∞–ª–∏–∑—É–µ—Ç `handle(args)` —Å¬†–∫–∞—Å—Ç–æ–º–Ω–æ–π –ª–æ–≥–∏–∫–æ–π.
3. –û–≥—Ä–∞–Ω–∏—á–µ–Ω `maxRetries`, `interval` ‚Äî –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø—Ä–∏ —Å–±–æ—Ä–∫–µ —Ü–µ–ø–æ—á–∫–∏.

`LevelsFactory()` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç ¬´Level1¬ª, ¬´Level2¬ª ‚Ä¶ –∫–ª–∞—Å—Å—ã –Ω–∞¬†–ª–µ—Ç—É, —á—Ç–æ —Ä–∞–¥–∏–∫–∞–ª—å–Ω–æ —Å–æ–∫—Ä–∞—â–∞–µ—Ç —à–∞–±–ª–æ–Ω–Ω—ã–π –∫–æ–¥.

### 4. PHP¬†–±–µ–∫‚Äë–æ—Ñ–∏—Å

* **ActionsController** (functions.php) ‚Äî –¥–µ–º–æ–Ω–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å/cron‚Äë—Å–∫—Ä–∏–ø—Ç: —á–∏—Å—Ç–∏—Ç –æ—á–µ—Ä–µ–¥–∏, —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ¬†–ø—Ä–∞–≤–∏–ª–∞–º, –±–∞–ª–∞–Ω—Å–∏—Ä—É–µ—Ç –±–æ—Ç–æ–≤.
* **proxy‚Äërebalance.php** ‚Äî –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–∫—Å–∏ –º–µ–∂–¥—É –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏ –ø–æ¬†–º–∞–∫—Å–∏–º—É–º—É —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ.
* **import‚Äëaccounts.php** ‚Äî –º–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç –ª–æ–≥–∏–Ω:–ø–∞—Ä–æ–ª—å –≤¬†`bots_data`.

–°—Ç–∞—Ç–∏—á–Ω—ã–µ —Å–∞–π—Ç—ã (–∞–¥–º–∏–Ω–∫–∞) –æ–±—Ä–∞—â–∞—é—Ç—Å—è –∫ —ç—Ç–∏–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –ê–Ø–ö–°–æ–º.

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –°–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

* Node.js ‚â•¬†18
* npm¬†/¬†pnpm
* MySQL¬†8+
* PHP¬†8 (–¥–ª—è backoffice)
* `google-chrome` –∏–ª–∏ Chromium (–µ—Å–ª–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –±–µ–∑ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è puppeteer‚Äëbinary)

### 2. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏¬†–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
$ git clone https://github.com/arsen-y/ok-bot.git
$ cd ok-bot
$ npm i        # puppeteer‚Äëreal‚Äëbrowser –ø–æ–¥—Ç—è–Ω–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–î

```bash
$ mysql -u root -p < sql/ok_bot_schema.sql
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É `bots_data` –≤–∞—à–∏–º–∏ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏ / –ø—Ä–æ–∫—Å–∏ (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ backoffice‚Äë–∏–º–ø–æ—Ä—Ç).

### 4. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ `.env` –æ—Ç¬†—à–∞–±–ª–æ–Ω–∞:

```dotenv
DBHOST=127.0.0.1
DBUSER=okbot
DBPASSWORD=secret
DBNAME=okBot

OPENAIKEY=sk-****************************
```

### 5. –ó–∞–ø—É—Å–∫ –≤–æ—Ä–∫–µ—Ä–∞

```bash
# –∞–≤—Ç–æ‚Äë—Ä–µ–∂–∏–º (–∫—Ä–∏—á–∏—Ç –≤ –∫–æ–Ω—Å–æ–ª—å, –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–∞–º —Å–µ–±—è)
$ node index.js

# —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –æ–¥–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è
$ node index.js -i 3 \
                -r "messages/sendSticker" \
                -s "https://ok.ru/messages/123456789" \
                -p "123456789"  # param1
```

–û–ø—Ü–∏–∏:

* **-w** ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤ —Ä–µ–∂–∏–º–µ *watcher* (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–µ–π—Å—Ç–≤–∏–π‚Äë–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π).
* **-n** ‚Äî –±—Ä–∞—Ç—å –∑–∞–¥–∞–Ω–∏—è —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –±–æ—Ç–æ–≤.
* **-d** ‚Äî –≤—ã–∫–ª—é—á–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–∑–∞–≥—Ä—É–∂–∞—Ç—å –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã).

### 6. Cron‚Äë—Ç–∞—Å–∫–∏

–ü—Ä–∏–º–µ—Ä `crontab -e` (Europe/Moscow):

```cron
# –ï–∂–µ–º–∏–Ω—É—Ç–Ω–æ ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä –¥–µ–π—Å—Ç–≤–∏–π (–ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç 01:00‚Äë09:00)
* * * * * php php-backoffice/actions_daemon.php >> /var/log/okbot/actions.log 2>&1

# –†–∞–∑ –≤¬†—á–∞—Å ‚Äî —Ä–µ–±–∞–ª–∞–Ω—Å –ø—Ä–æ–∫—Å–∏
0 * * * * php php-backoffice/proxy-rebalance.php --auto >> /var/log/okbot/proxy.log 2>&1
```

---

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è

1. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä `controllers/MyPageController.js`.
2. –û–ø–∏—à–∏—Ç–µ –º–µ—Ç–æ–¥—ã `myCoolAction(args)`.
3. –°–æ–∑–¥–∞–π—Ç–µ –∫–∞—Ç–∞–ª–æ–≥ `levels/myPage/MyCoolLevels/` –∏¬†—Ä–µ–∞–ª–∏–∑—É–π—Ç–µ —É—Ä–æ–≤–Ω–∏.
4. –î–æ–±–∞–≤—å—Ç–µ –º–∞—Ä—à—Ä—É—Ç –≤ `index.js` ‚Üí `routes`.
5. –ü–æ–º–µ—Å—Ç–∏—Ç–µ –∑–∞–¥–∞–Ω–∏–µ –≤ `actions_queue` –∏–ª–∏ –≤—ã–∑–æ–≤–∏—Ç–µ —Ä—É–∫–∞–º–∏ —á–µ—Ä–µ–∑ CLI.

---

## 2captcha‚Äësolver

–ö–∞—Ç–∞–ª–æ–≥ \`\` —Å–æ–¥–µ—Ä–∂–∏—Ç –≥–æ—Ç–æ–≤–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ:

* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç reCAPTCHA¬†v2/v3, hCaptcha, Cloudflare Turnstile.
* –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ API —Å–µ—Ä–≤–∏—Å–∞ 2captcha (–Ω—É–∂–µ–Ω –∫–ª—é—á –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è).
* –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å puppeteer‚Äëreal‚Äëbrowser –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞: —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ–¥–≥—Ä—É–∂–∞–µ—Ç—Å—è –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º

  ```bash
  --load-extension=2captcha-solver
  ```

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–µ—Ä–∂–∞—Ç—å –∫–ª—é—á 2captcha –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è Chrome.

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∞–Ω—Ç–∏‚Äë–¥–µ—Ç–µ–∫—Ç

* **puppeteer-real-browser**¬†‚Äî —Å—Ç–∞—Ä—Ç—É–µ—Ç –Ω–∞—Å—Ç–æ—è—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π Chrome —Å¬†–Ω–∞—Ç–∏–≤–Ω—ã–º –ø—Ä–æ—Ñ–∏–ª–µ–º, –ø—Ä–æ—Ö–æ–¥—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∞–Ω—Ç–∏‚Äë–±–æ—Ç –ø—Ä–æ–≤–µ—Ä–æ–∫.
* –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ¬†/ —Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ —Å¬†–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π (`ip:port:user:pass`) –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –∏–∑¬†–∫–æ—Ä–æ–±–∫–∏.
* –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞¬†–∫–æ–ª‚Äë–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ `BrowserController` –∏¬†—Ä–∞–Ω–¥–æ–º–Ω—ã–µ sleep‚Äë–∑–∞–¥–µ—Ä–∂–∫–∏ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É—é—Ç —Ä–∏—Å–∫–∏ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ê—Ä—Å–µ–Ω–∏–π –°–æ–∫–æ–ª–æ–≤—Å–∫–∏–π¬†¬©¬†2025¬†‚Äî –∞–≤—Ç–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫, –∞–≤—Ç–æ—Ä –Ω–µ –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Å–æ—Ñ—Ç–æ–º, –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Ü–µ–ª—è—Ö, –∫–∞–∫ –º–æ–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å —Å–∞–π—Ç–æ–º –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è –∑–∞–∫–æ–Ω–Ω—ã—Ö —Ü–µ–ª–µ–π —Å —Ü–µ–ª—å—é –ø–æ–≤—ã—à–µ–Ω–∏—è —É–¥–æ–±—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–∞ —Ç–∞–∫–∂–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –∑–∞—â–∏—Ç).

---

**Happy automation!**
